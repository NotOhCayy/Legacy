<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SASP — Robbery Report (Dropdowns + Outcome)</title>
<style>
  :root{
    --bg:#0b1422;--panel:#0e1728;--muted:#94a3b8;--text:#e5edf3;--accent:#38bdf8;--line:#1f2a44;
  }
  *{box-sizing:border-box}
  body{margin:0;font:14px/1.4 system-ui,Segoe UI,Roboto,Inter,Arial,sans-serif;background:var(--bg);color:var(--text)}
  header{padding:14px 16px;border-bottom:1px solid var(--line);background:linear-gradient(180deg,#0e1a2d,#0b1422);}
  header h1{margin:0;font-size:18px}
  main{max-width:1200px;margin:0 auto;padding:16px;display:grid;grid-template-columns:520px 1fr;gap:16px}
  .card{background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:12px}
  .card h3{margin:6px 0 10px;font-size:13px;color:var(--muted);font-weight:600;letter-spacing:.02em}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  label{display:block;font-size:12px;color:var(--muted);margin-bottom:4px}
  select,input[type=text]{width:100%;padding:8px 10px;border:1px solid #223352;background:#0b1a2e;color:var(--text);border-radius:10px}
  textarea{width:100%;height:320px;background:#0b1a2e;border:1px solid #223352;color:var(--text);border-radius:10px;padding:10px;white-space:pre-wrap}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
  .small{font-size:12px;color:var(--muted)}
  .btn{background:var(--accent);border:none;color:#00243b;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
  .section{margin-bottom:12px}
</style>
</head>
<body>
<header><h1>SASP — Robbery Report</h1></header>
<main>
  <section class="card">
    <h3>Inputs</h3>
    <div class="section">
      <label>Your Callsign & Name</label>
      <select id="officerSel"></select>
    </div>
    <div class="grid2 section">
      <div>
        <label>Scene Command</label>
        <select id="sceneCmd"></select>
      </div>
      <div>
        <label>Negotiator</label>
        <select id="negotiator"></select>
      </div>
    </div>
    <div class="section">
      <label>Stayed Back For Hostage</label>
      <select id="hostageBack"></select>
    </div>

    <h3>Pursuit Order</h3>
    <div class="grid2 section">
      <div>
        <label>Primary</label>
        <select id="primary"></select>
      </div>
      <div>
        <label>Passenger</label>
        <select id="primaryPass"></select>
      </div>
    </div>
    <div class="grid2 section">
      <div>
        <label>Secondary</label>
        <select id="secondary"></select>
      </div>
      <div>
        <label>Passenger</label>
        <select id="secondaryPass"></select>
      </div>
    </div>
    <div class="grid2 section">
      <div>
        <label>Tertiary</label>
        <select id="tertiary"></select>
      </div>
      <div>
        <label>Passenger</label>
        <select id="tertiaryPass"></select>
      </div>
    </div>
    <div class="grid2 section">
      <div>
        <label>Parallel</label>
        <select id="parallel"></select>
      </div>
      <div>
        <label>Passenger</label>
        <select id="parallelPass"></select>
      </div>
    </div>

    <h3>Robbery</h3>
    <div class="section">
      <label>Location (Jewelry / Fleeca / 24/7)</label>
      <select id="location">
        <option>Jewelry Store</option>
        <option>Fleeca — Legion Square</option>
        <option>Fleeca — Burton</option>
        <option>Fleeca — Rockford Hills (Lifeinvader)</option>
        <option>Fleeca — Alta</option>
        <option>Fleeca — Great Ocean</option>
        <option>Fleeca — Route 68</option>
        <option>Fleeca — Pink Cage</option>
        <option>24/7 — Harmony</option>
        <option>24/7 — Mirror Park</option>
        <option>24/7 — Grapeseed</option>
        <option>24/7 — Sandy Shores</option>
      </select>
    </div>
    <div class="grid3 section">
      <div>
        <label>Inside</label>
        <select id="inside"></select>
      </div>
      <div>
        <label>Outside</label>
        <select id="outside"></select>
      </div>
      <div>
        <label>Hostages</label>
        <select id="hostages"></select>
      </div>
    </div>

    <h3>Demands</h3>
    <div class="section small">
      <label><input type="checkbox" class="demand" value="free passage with no spikes on perimeter"> free passage with no spikes on perimeter</label><br/>
      <label><input type="checkbox" class="demand" value="free passage with no spikes on the whole chase"> free passage with no spikes on the whole chase</label><br/>
      <label><input type="checkbox" class="demand" value="no helicopter"> no helicopter</label><br/>
      <label><input type="checkbox" class="demand" value="no speed unit"> no speed unit</label><br/>
      <label><input type="checkbox" class="demand" value="no bike unit"> no bike unit</label><br/>
      <input id="demandOther" placeholder="Other (optional)" type="text"/>
    </div>

    <h3>Vehicle</h3>
    <div class="grid3 section">
      <div><label>Description</label><input id="vehDesc" placeholder="e.g., Black Sultan RS" type="text"/></div>
      <div><label>Color</label><input id="vehColor" placeholder="Color" type="text"/></div>
      <div><label>Plate</label><input id="vehPlate" placeholder="Plate" type="text"/></div>
    </div>

    <h3>Outcome</h3>
    <div class="section">
      <label>How did the chase end?</label>
      <select id="ending"></select>
    </div>

    <h3>Medical & Processing</h3>
    <div class="grid2 section">
      <div>
        <label>Hospital</label>
        <select id="hospital">
          <option>Saint Fiacre</option>
          <option>Mount Zonah</option>
          <option>Sandy Shores Medical</option>
          <option>Paleto Hospital</option>
          <option>Cayo Perico</option>
        </select>
      </div>
      <div>
        <label>Processed at</label>
        <select id="processedAt">
          <option>MRPD</option>
          <option>Davis PD</option>
          <option>Paleto Police Department</option>
          <option>Sandy Shores Sheriff's Office</option>
          <option>Highway Police Department</option>
        </select>
      </div>
    </div>
  </section>

  <section class="card">
    <h3>Report</h3>
    <textarea id="report" placeholder="Report will generate here…"></textarea>
    <div style="margin-top:8px"><button id="copyBtn" class="btn">Copy</button></div>
  </section>
</main>

<script>
// ===== Inline officers fallback (works on file://) =====
const OFFICERS=[
  {cs:'X-100',name:'Curtis Roscoe'},
  {cs:'X-101',name:'Alexander Murphy'},
  {cs:'A-110',name:'Maya Serrano'},
  {cs:'A-111',name:'Max Callahan'},
  {cs:'A-112',name:'Alexandr Nolan'},
  {cs:'A-115',name:'Pepper Belle'},
  {cs:'A-118',name:'Oscar Deacon'},
  {cs:'C-123',name:'Hayley Cassidy'},
  {cs:'LT-129',name:'Quintin Johnson'}
  // (Trimmed for brevity; add the rest when you hook officers.json)
];
const nameFmt = o => `${o.cs} — ${o.name}`;

// ===== Outcome endings (full list) =====
const ENDINGS=[
  'Units lost eyes | Escaped','Suspects caught | General Ending','Surrendered | General Ending',
  'Got out of vehicle | Ran on foot | Caught','Got out of vehicle | Ran on foot | Escaped',
  'Vehicle disabled | Ran on foot | Caught','Vehicle disabled | Ran on foot | Escaped',
  'Vehicle disabled | Vehicle swap | Caught','Vehicle disabled | Vehicle swap | Escaped',
  'Vehicle disabled | Surrendered','Vehicle Tires Popped | Ran on foot | Caught',
  'Vehicle Tires Popped | Ran on foot | Escaped','Vehicle Tires Popped | Surrendered',
  'Vehicle boxed in | Ran on foot | Caught','Vehicle boxed in | Ran on foot | Escaped',
  'Vehicle boxed in | Surrendered','Attempted Vehicle swap | Caught',
  'Vehicle swap x1 | Caught','Vehicle swap x1 | Escaped','Vehicle swap x2 | Caught','Vehicle swap x2 | Escaped',
  'Vehicle swap x3 | Caught','Vehicle swap x3 | Escaped','Bike swap | Caught','Bike swap | Escaped',
  'Vehicle ran out of fuel | Ran on foot | Transfer vehicle | Caught',
  'Vehicle ran out of fuel | Ran on foot | Transfer vehicle | Escaped',
  'Vehicle ran out of fuel | Ran on foot | Caught','Vehicle ran out of fuel | Ran on foot | Escaped',
  'Vehicle ran out of fuel | Surrendered','Vehicle turtled | Ran on foot | Transfer vehicle | Caught',
  'Vehicle turtled | Ran on foot | Transfer vehicle | Escaped','Vehicle turtled | Ran on foot | Caught',
  'Vehicle turtled | Ran on foot | Escaped','Vehicle turtled | Surrendered','Vehicle Stuck | Ran on foot | Caught',
  'Vehicle Stuck | Ran on foot | Escaped','Vehicle Stuck | Surrendered','Vehicle was sent into water | Caught',
  'Vehicle was sent into water | Escaped','Vehicle blew up','Vehicle took a jump | Escaped',
  'Suspects opened fire from the vehicle | Caught','Suspects opened fire from the vehicle | Escaped',
  'Turned into a shootout | All Caught','Turned into a shootout | All Escaped',
  'Secondary Vehicle Blocked Units | Escaped','Vehicle 10-50 | Suspects went down','Bike disabled | Ran on foot | Caught',
  'Bike disabled | Ran on foot | Escaped','Bike disabled | Surrendered','Fell off bike | Ran on foot | Caught',
  'Fell off bike | Ran on foot | Escaped','Fell off bike | Vehicle Swap | Caught','Fell off bike | Vehicle Swap | Escaped',
  'Fell off bike | Surrendered','Suspects declared Code Red'
];

// ===== Small helpers =====
const $=id=>document.getElementById(id);
function fillNumber(sel, max){ sel.innerHTML=''; for(let i=0;i<=max;i++){ const o=document.createElement('option'); o.textContent=i; sel.appendChild(o);} }
function fillOfficers(sel){ sel.innerHTML=''; const ph=document.createElement('option'); ph.textContent='— Select officer —'; ph.value=''; sel.appendChild(ph); OFFICERS.forEach(o=>{const op=document.createElement('option'); op.value=nameFmt(o); op.textContent=nameFmt(o); sel.appendChild(op);}); }
function fillEnding(sel){ sel.innerHTML=''; const ph=document.createElement('option'); ph.textContent='— Select ending —'; ph.value=''; sel.appendChild(ph); ENDINGS.forEach(e=>{const op=document.createElement('option'); op.textContent=e; op.value=e; sel.appendChild(op);}); }

// ===== Report builder =====
function buildReport(){
  const officer=$('officerSel').value;
  const sc=$('sceneCmd').value, neg=$('negotiator').value, hb=$('hostageBack').value;

  const purs = [
    ['Primary',$('primary').value,$('primaryPass').value],
    ['Secondary',$('secondary').value,$('secondaryPass').value],
    ['Tertiary',$('tertiary').value,$('tertiaryPass').value],
    ['Parallel',$('parallel').value,$('parallelPass').value],
  ];

  const loc=$('location').value;
  const inside=$('inside').value, outside=$('outside').value, host=$('hostages').value;

  const demands=[...document.querySelectorAll('.demand:checked')].map(x=>x.value);
  if($('demandOther').value.trim()) demands.push($('demandOther').value.trim());

  const vDesc=$('vehDesc').value, vCol=$('vehColor').value, vPlate=$('vehPlate').value;
  const ending=$('ending').value;
  const hospital=$('hospital').value, proc=$('processedAt').value;

  const lines=[];
  if(officer){ lines.push('[REPORTING OFFICER]:'); lines.push(officer,''); }

  lines.push('[SCENE ASSIGNMENT]:');
  lines.push(`Scene Command: ${sc||'[Insert Officer]'}`);
  lines.push(`Negotiator: ${neg||'[Insert Officer]'}`);
  lines.push(`Stayed Back For Hostage: ${hb||'[Insert Officer]'}\n`);

  lines.push('[INVOLVED IN PURSUIT]:');
  purs.forEach(([lbl,drv,pass])=>{
    if(drv || pass){
      const passStr = pass ? `  |  Passenger: ${pass}` : '';
      lines.push(`${lbl}: ${drv||'—'}${passStr}`);
    }
  });
  lines.push('');

  lines.push('[DETAILS | DEMANDS]:');
  lines.push(`Location: ${loc}`);
  lines.push(`Robbers Inside: ${inside} | Robbers Outside: ${outside} | Hostages: ${host}`);
  if(demands.length){ lines.push('Demands:'); demands.forEach(d=>lines.push(`- ${d}`)); }
  lines.push('');

  lines.push('[VEHICLE | CHASE]:');
  const vBits=[]; if(vDesc) vBits.push(`Description: ${vDesc}`); if(vCol) vBits.push(`Color: ${vCol}`); if(vPlate) vBits.push(`Plate: ${vPlate}`);
  if(vBits.length) lines.push(vBits.join(' | '));
  if(ending) lines.push(`Ending: ${ending}`);
  lines.push('');

  lines.push('[MEDICAL | PROCESSING]:');
  lines.push(`Hospital: ${hospital}`);
  lines.push(`Processed at: ${proc}`);

  $('report').value = lines.join('\n');
}

// ===== Init =====
function init(){
  // fill officer selects
  ['officerSel','sceneCmd','negotiator','hostageBack','primary','primaryPass','secondary','secondaryPass','tertiary','tertiaryPass','parallel','parallelPass']
    .forEach(id=>fillOfficers($(id)));

  // numbers
  fillNumber($('inside'),6); fillNumber($('outside'),6); fillNumber($('hostages'),10);

  // endings
  fillEnding($('ending'));

  // listeners
  const allInputs = document.querySelectorAll('select,input[type=text],input[type=checkbox]');
  allInputs.forEach(el=> el.addEventListener(el.type==='checkbox'?'change':'input', buildReport));

  $('copyBtn').addEventListener('click',()=>{
    navigator.clipboard.writeText($('report').value).catch(()=>{});
  });

  buildReport();
}

document.addEventListener('DOMContentLoaded',init);
</script>
</body>
</html>
